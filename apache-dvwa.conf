<VirtualHost *:8080>
    ServerName localhost
    DocumentRoot /var/www/html

    # /dvwa/ 경로로 DVWA 서비스
    Alias /dvwa/ /var/www/html/dvwa/
    <Directory /var/www/html/dvwa>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # 루트(/) 접근은 내부적으로 /dvwa/로 매핑 (URL은 / 그대로 유지)
    RewriteEngine On
    RewriteRule ^$ /dvwa/ [L]

    DirectoryIndex index.php index.html
    ErrorLog ${APACHE_LOG_DIR}/dvwa_error.log
    CustomLog ${APACHE_LOG_DIR}/dvwa_access.log combined
</VirtualHost>

